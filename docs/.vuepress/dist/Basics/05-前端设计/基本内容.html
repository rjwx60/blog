<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、基本 | Leibnize 个人学习笔记</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="素材整理自网络，仅供个人学习记录之用">
    <link rel="preload" href="/assets/css/0.styles.4c1fe16c.css" as="style"><link rel="preload" href="/assets/js/app.58d463af.js" as="script"><link rel="preload" href="/assets/js/3.5b6bd7ce.js" as="script"><link rel="preload" href="/assets/js/1.53e5735b.js" as="script"><link rel="preload" href="/assets/js/110.b10adffc.js" as="script"><link rel="prefetch" href="/assets/js/10.47a34be1.js"><link rel="prefetch" href="/assets/js/100.2f7c82fb.js"><link rel="prefetch" href="/assets/js/101.57a81617.js"><link rel="prefetch" href="/assets/js/102.8befc7fd.js"><link rel="prefetch" href="/assets/js/103.c690f409.js"><link rel="prefetch" href="/assets/js/104.c8b86b63.js"><link rel="prefetch" href="/assets/js/105.9bac0b69.js"><link rel="prefetch" href="/assets/js/106.77dcd9f8.js"><link rel="prefetch" href="/assets/js/107.305a0cd6.js"><link rel="prefetch" href="/assets/js/108.197f379c.js"><link rel="prefetch" href="/assets/js/109.ed1f6dd8.js"><link rel="prefetch" href="/assets/js/11.d67029e2.js"><link rel="prefetch" href="/assets/js/111.27cb5e44.js"><link rel="prefetch" href="/assets/js/112.598f5429.js"><link rel="prefetch" href="/assets/js/113.b7f9fe99.js"><link rel="prefetch" href="/assets/js/114.cb9df12d.js"><link rel="prefetch" href="/assets/js/115.4d812f2c.js"><link rel="prefetch" href="/assets/js/116.3a4f5195.js"><link rel="prefetch" href="/assets/js/117.be29161e.js"><link rel="prefetch" href="/assets/js/118.eb6b99b9.js"><link rel="prefetch" href="/assets/js/119.b3f342d7.js"><link rel="prefetch" href="/assets/js/12.f13f81de.js"><link rel="prefetch" href="/assets/js/120.f343ff14.js"><link rel="prefetch" href="/assets/js/121.5983ebbd.js"><link rel="prefetch" href="/assets/js/122.8dd46465.js"><link rel="prefetch" href="/assets/js/123.71ffc4a2.js"><link rel="prefetch" href="/assets/js/124.4e568dbe.js"><link rel="prefetch" href="/assets/js/125.43b22375.js"><link rel="prefetch" href="/assets/js/126.6522a7eb.js"><link rel="prefetch" href="/assets/js/127.8308b909.js"><link rel="prefetch" href="/assets/js/128.1fd06c87.js"><link rel="prefetch" href="/assets/js/129.91e28eff.js"><link rel="prefetch" href="/assets/js/13.ac76083d.js"><link rel="prefetch" href="/assets/js/130.5027f9f0.js"><link rel="prefetch" href="/assets/js/131.4554c2f2.js"><link rel="prefetch" href="/assets/js/132.c643aed4.js"><link rel="prefetch" href="/assets/js/133.5e499634.js"><link rel="prefetch" href="/assets/js/134.59b1b330.js"><link rel="prefetch" href="/assets/js/135.da46fa8a.js"><link rel="prefetch" href="/assets/js/136.3a67d738.js"><link rel="prefetch" href="/assets/js/137.4d5f5f5e.js"><link rel="prefetch" href="/assets/js/138.1fe93dba.js"><link rel="prefetch" href="/assets/js/139.d7f54242.js"><link rel="prefetch" href="/assets/js/14.8e5c3120.js"><link rel="prefetch" href="/assets/js/140.82be0f82.js"><link rel="prefetch" href="/assets/js/141.979c5a91.js"><link rel="prefetch" href="/assets/js/142.658ae82d.js"><link rel="prefetch" href="/assets/js/143.17532399.js"><link rel="prefetch" href="/assets/js/144.dc947607.js"><link rel="prefetch" href="/assets/js/145.fc89bd8c.js"><link rel="prefetch" href="/assets/js/146.a5e1b7eb.js"><link rel="prefetch" href="/assets/js/147.0f8384fc.js"><link rel="prefetch" href="/assets/js/148.fccbb459.js"><link rel="prefetch" href="/assets/js/149.d2d32bbc.js"><link rel="prefetch" href="/assets/js/15.e17af96c.js"><link rel="prefetch" href="/assets/js/150.73f88a17.js"><link rel="prefetch" href="/assets/js/151.dd85d521.js"><link rel="prefetch" href="/assets/js/152.ca632725.js"><link rel="prefetch" href="/assets/js/153.02b859a6.js"><link rel="prefetch" href="/assets/js/154.268e5dd0.js"><link rel="prefetch" href="/assets/js/155.0df9a80c.js"><link rel="prefetch" href="/assets/js/156.0e786e96.js"><link rel="prefetch" href="/assets/js/157.79cdcd86.js"><link rel="prefetch" href="/assets/js/158.8a131380.js"><link rel="prefetch" href="/assets/js/159.7aed0b17.js"><link rel="prefetch" href="/assets/js/16.472bfca7.js"><link rel="prefetch" href="/assets/js/160.31daa77a.js"><link rel="prefetch" href="/assets/js/161.a44e6bf4.js"><link rel="prefetch" href="/assets/js/162.86180287.js"><link rel="prefetch" href="/assets/js/163.c9fd632a.js"><link rel="prefetch" href="/assets/js/164.15e04e68.js"><link rel="prefetch" href="/assets/js/165.69bcb02b.js"><link rel="prefetch" href="/assets/js/166.084ab8e2.js"><link rel="prefetch" href="/assets/js/167.0f42977a.js"><link rel="prefetch" href="/assets/js/168.a4474b7b.js"><link rel="prefetch" href="/assets/js/169.3d05b3ba.js"><link rel="prefetch" href="/assets/js/17.f9d21c6e.js"><link rel="prefetch" href="/assets/js/170.484ffe30.js"><link rel="prefetch" href="/assets/js/171.01628965.js"><link rel="prefetch" href="/assets/js/172.2dc6c763.js"><link rel="prefetch" href="/assets/js/173.4fa13f79.js"><link rel="prefetch" href="/assets/js/174.5da03623.js"><link rel="prefetch" href="/assets/js/175.7c3cae2a.js"><link rel="prefetch" href="/assets/js/176.3df0d63b.js"><link rel="prefetch" href="/assets/js/177.3aa8d705.js"><link rel="prefetch" href="/assets/js/178.5b48450e.js"><link rel="prefetch" href="/assets/js/179.3a963dce.js"><link rel="prefetch" href="/assets/js/18.8314222e.js"><link rel="prefetch" href="/assets/js/180.d67c14c9.js"><link rel="prefetch" href="/assets/js/181.c7bf4046.js"><link rel="prefetch" href="/assets/js/182.4a4705fd.js"><link rel="prefetch" href="/assets/js/183.9183a7da.js"><link rel="prefetch" href="/assets/js/184.290760c3.js"><link rel="prefetch" href="/assets/js/185.64cd4609.js"><link rel="prefetch" href="/assets/js/186.2940410e.js"><link rel="prefetch" href="/assets/js/187.12b14c61.js"><link rel="prefetch" href="/assets/js/188.1fea2b8b.js"><link rel="prefetch" href="/assets/js/189.04b7d343.js"><link rel="prefetch" href="/assets/js/19.ed77427b.js"><link rel="prefetch" href="/assets/js/190.a7d6ec94.js"><link rel="prefetch" href="/assets/js/191.8ad7d925.js"><link rel="prefetch" href="/assets/js/192.2fd0c8f8.js"><link rel="prefetch" href="/assets/js/193.4f8a87cd.js"><link rel="prefetch" href="/assets/js/194.9e2e73ca.js"><link rel="prefetch" href="/assets/js/195.c6292340.js"><link rel="prefetch" href="/assets/js/196.b7ff135e.js"><link rel="prefetch" href="/assets/js/197.83a7d260.js"><link rel="prefetch" href="/assets/js/198.530f7c9c.js"><link rel="prefetch" href="/assets/js/199.c5048869.js"><link rel="prefetch" href="/assets/js/20.09503993.js"><link rel="prefetch" href="/assets/js/200.3435c341.js"><link rel="prefetch" href="/assets/js/201.1e492eea.js"><link rel="prefetch" href="/assets/js/202.f7b55746.js"><link rel="prefetch" href="/assets/js/203.08e404b6.js"><link rel="prefetch" href="/assets/js/204.1bc4bdd8.js"><link rel="prefetch" href="/assets/js/21.38c15b75.js"><link rel="prefetch" href="/assets/js/22.ae59de53.js"><link rel="prefetch" href="/assets/js/23.1c6d3160.js"><link rel="prefetch" href="/assets/js/24.28c7c43e.js"><link rel="prefetch" href="/assets/js/25.e53d1234.js"><link rel="prefetch" href="/assets/js/26.6fe14a49.js"><link rel="prefetch" href="/assets/js/27.910bdd9c.js"><link rel="prefetch" href="/assets/js/28.9d9cd019.js"><link rel="prefetch" href="/assets/js/29.525906aa.js"><link rel="prefetch" href="/assets/js/30.8a1a47c0.js"><link rel="prefetch" href="/assets/js/31.750a297b.js"><link rel="prefetch" href="/assets/js/32.290c8619.js"><link rel="prefetch" href="/assets/js/33.885855c1.js"><link rel="prefetch" href="/assets/js/34.fb5b3f84.js"><link rel="prefetch" href="/assets/js/35.22021291.js"><link rel="prefetch" href="/assets/js/36.6736dcbf.js"><link rel="prefetch" href="/assets/js/37.50fc071e.js"><link rel="prefetch" href="/assets/js/38.a6f00886.js"><link rel="prefetch" href="/assets/js/39.e5f0c600.js"><link rel="prefetch" href="/assets/js/4.4c62e10b.js"><link rel="prefetch" href="/assets/js/40.7eaf6de1.js"><link rel="prefetch" href="/assets/js/41.c55fd828.js"><link rel="prefetch" href="/assets/js/42.2c5aaafc.js"><link rel="prefetch" href="/assets/js/43.6c939d74.js"><link rel="prefetch" href="/assets/js/44.22ccc866.js"><link rel="prefetch" href="/assets/js/45.56a056b8.js"><link rel="prefetch" href="/assets/js/46.6901927f.js"><link rel="prefetch" href="/assets/js/47.78460423.js"><link rel="prefetch" href="/assets/js/48.12fddaae.js"><link rel="prefetch" href="/assets/js/49.55f5515e.js"><link rel="prefetch" href="/assets/js/5.97a7c0dc.js"><link rel="prefetch" href="/assets/js/50.5c665644.js"><link rel="prefetch" href="/assets/js/51.9fbd3941.js"><link rel="prefetch" href="/assets/js/52.f3a93332.js"><link rel="prefetch" href="/assets/js/53.f7c91d71.js"><link rel="prefetch" href="/assets/js/54.035bd227.js"><link rel="prefetch" href="/assets/js/55.9d4300de.js"><link rel="prefetch" href="/assets/js/56.1fa21a7d.js"><link rel="prefetch" href="/assets/js/57.c6af5e20.js"><link rel="prefetch" href="/assets/js/58.8c0baaa7.js"><link rel="prefetch" href="/assets/js/59.63f1befc.js"><link rel="prefetch" href="/assets/js/6.8e992509.js"><link rel="prefetch" href="/assets/js/60.35539f20.js"><link rel="prefetch" href="/assets/js/61.0872b63b.js"><link rel="prefetch" href="/assets/js/62.6749d184.js"><link rel="prefetch" href="/assets/js/63.0a8a07d3.js"><link rel="prefetch" href="/assets/js/64.a2eeb6f7.js"><link rel="prefetch" href="/assets/js/65.d78ecb46.js"><link rel="prefetch" href="/assets/js/66.1e1a87a2.js"><link rel="prefetch" href="/assets/js/67.b550d647.js"><link rel="prefetch" href="/assets/js/68.68258f2e.js"><link rel="prefetch" href="/assets/js/69.9f502a69.js"><link rel="prefetch" href="/assets/js/7.159745e4.js"><link rel="prefetch" href="/assets/js/70.c9b2fe76.js"><link rel="prefetch" href="/assets/js/71.b7b04483.js"><link rel="prefetch" href="/assets/js/72.edb7dfe5.js"><link rel="prefetch" href="/assets/js/73.869de1e4.js"><link rel="prefetch" href="/assets/js/74.7816f275.js"><link rel="prefetch" href="/assets/js/75.0457b07c.js"><link rel="prefetch" href="/assets/js/76.79a2eaee.js"><link rel="prefetch" href="/assets/js/77.66cfa995.js"><link rel="prefetch" href="/assets/js/78.9dd75caf.js"><link rel="prefetch" href="/assets/js/79.f6111e69.js"><link rel="prefetch" href="/assets/js/8.b79c23ae.js"><link rel="prefetch" href="/assets/js/80.fff0a469.js"><link rel="prefetch" href="/assets/js/81.42c5ebec.js"><link rel="prefetch" href="/assets/js/82.ca2f7f18.js"><link rel="prefetch" href="/assets/js/83.ed547319.js"><link rel="prefetch" href="/assets/js/84.377155d9.js"><link rel="prefetch" href="/assets/js/85.e5aab871.js"><link rel="prefetch" href="/assets/js/86.14705636.js"><link rel="prefetch" href="/assets/js/87.502cb8e9.js"><link rel="prefetch" href="/assets/js/88.d8f271ec.js"><link rel="prefetch" href="/assets/js/89.3e9deca1.js"><link rel="prefetch" href="/assets/js/9.23c0899b.js"><link rel="prefetch" href="/assets/js/90.4de4929c.js"><link rel="prefetch" href="/assets/js/91.307ce9fd.js"><link rel="prefetch" href="/assets/js/92.47e69683.js"><link rel="prefetch" href="/assets/js/93.34abda4c.js"><link rel="prefetch" href="/assets/js/94.00078270.js"><link rel="prefetch" href="/assets/js/95.4c9ca2ce.js"><link rel="prefetch" href="/assets/js/96.9121392c.js"><link rel="prefetch" href="/assets/js/97.41f6bdb8.js"><link rel="prefetch" href="/assets/js/98.4524a102.js"><link rel="prefetch" href="/assets/js/99.7d313788.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4c1fe16c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Leibnize 个人学习笔记</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Leibnize 个人学习笔记</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Leibnize 个人学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Basics/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  基本
</a></div><div class="nav-item"><a href="/NetWork/" class="nav-link"><i class="iconfont undefined"></i>
  网络
</a></div><div class="nav-item"><a href="https://github.com/rjwx60" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><!----> <h3 class="name" data-v-ca798c94>
    Leibnize 个人学习笔记
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>0</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>0</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/Basics/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  基本
</a></div><div class="nav-item"><a href="/NetWork/" class="nav-link"><i class="iconfont undefined"></i>
  网络
</a></div><div class="nav-item"><a href="https://github.com/rjwx60" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/01-前端基础" class="sidebar-heading clickable"><span>01-前端基本</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/02-前端性能" class="sidebar-heading clickable"><span>02-前端性能</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/03-前端工程" class="sidebar-heading clickable"><span>03-前端工程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/04-前端异步" class="sidebar-heading clickable"><span>04-前端异步</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/05-前端设计" class="sidebar-heading clickable open"><span>05-前端设计</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Basics/05-前端设计/基本内容.html" class="active sidebar-link">一、基本内容</a></li><li><a href="/Basics/05-前端设计/面向对象编程.html" class="sidebar-link">二、面向对象</a></li><li><a href="/Basics/05-前端设计/设计模式.html" class="sidebar-link">三、设计模式</a></li><li><a href="/Basics/05-前端设计/架构模式.html" class="sidebar-link">四、架构模式</a></li><li><a href="/Basics/05-前端设计/Summary.html" class="sidebar-link">五、Summary</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/06-前端数据" class="sidebar-heading clickable"><span>06-前端数据</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/07-前端安全" class="sidebar-heading clickable"><span>07-前端安全</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/08-前端概念" class="sidebar-heading clickable"><span>08-前端概念</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/09-前端实现" class="sidebar-heading clickable"><span>09-前端实现</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/10-前端新标" class="sidebar-heading clickable"><span>10-前端新标</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/11-前端会话" class="sidebar-heading clickable"><span>11-前端会话</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/12-前端框架" class="sidebar-heading clickable"><span>12-前端框架</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/14-浏览器相关" class="sidebar-heading clickable"><span>14-浏览器相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/15-前端核心" class="sidebar-heading clickable"><span>15-前端核心</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/16-前端Node" class="sidebar-heading clickable"><span>16-前端Node</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Leibnize 个人学习笔记</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>一、基本</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>Leibnize 个人学习笔记</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="一、基本"><a href="#一、基本" class="header-anchor">#</a> 一、基本</h1> <h2 id="_1-1、基本"><a href="#_1-1、基本" class="header-anchor">#</a> 1-1、基本</h2> <ul><li><p><strong><u>原型 prototype</u></strong>： 创建的每一个函数，都有一个prototype属性，该属性指向一个对象，这个对象就是原型</p> <ul><li><p>定B：一个简单的对象，用于实现对象的 <strong>属性继承</strong>；可简单的理解成对象的爹；</p></li> <li><p>比如：在火狐、谷歌中，每个 JS 对象中都包含一<code>__proto__</code>    属性(非标)指向它爹(该对象原型)，即 <code>obj.__proto__</code> 进行访问；</p></li> <li><p>定C：原型是构造调用时，也即在实例创建过程中，系统自动创建出来的、与构造函数相关联的一个空的对象，可由 <code>构造函数.prototype</code> 访问到；</p></li> <li><p>注意：<code>实例.__proto__</code>，指向函数原型，于是在原型上增加属性或方法，便可成为实例的共有属性和方法；</p></li> <li><p>补充：原型对象是一个内部对象，官方没有给出能直接访问的方法，浏览器提供了一个 <strong>proto</strong> 属性，通过它来访问对象原型：</p> <p>原型对象在 JS 标准中用 [[prototype]] 表示 (参见 <a href="https://developer.mozilla.org/en-US/docs/Glossary/ECMAScript" target="_blank" rel="noopener noreferrer">ECMAScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)；</p></li></ul></li> <li><p><strong><u>构造函数</u></strong>：可通过 <code>new</code> 来 <strong>新建一个对象</strong> 的函数；</p> <ul><li>本质：即函数、专用于同 new 操作符一起实例化对象、new 调用的时候称为构造调用；</li> <li>约定：大写字母开头、应仅作为构造调用使用；</li></ul></li> <li><p><strong><u>实例</u></strong>：通过构造函数和 <code>new</code> 创建出来的对象(或中间对象，或函数在中间对象环境下调用产生的结果)，即实例；</p> <ul><li><strong>实例通过<code>__proto__</code>指向原型，通过<code>constructor</code>指向构造函数</strong>；</li></ul></li></ul> <h3 id="_1-1-1、注意事项"><a href="#_1-1-1、注意事项" class="header-anchor">#</a> 1-1-1、注意事项</h3> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091133.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091134.png" align="" style="zoom:50%;"> <ul><li>注意：每个对象的 <code>__proto__</code> 属性，指向对象的构造函数的 prototype；</li> <li>所以：上面图中，对象为 Foo.prototype(原型)，对象的构造函数为 Object，对象指向对象的构造函数的原型即 Object.prototype；</li> <li>所以：此处对象乃原型，是故原型的构造函数为 Object；</li> <li>那么：若对象为 Object.prototype(原型)，则又指向谁呢？null；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091135.png" align="" style="zoom:50%;"> <h2 id="_1-2、关系"><a href="#_1-2、关系" class="header-anchor">#</a> 1-2、关系</h2> <p>在 JS 中，每当定义一个函数数据类型(普通函数、类)时候，都会天生自带一个 prototype 属性，这个属性指向函数的 <strong><u>原型对象</u></strong>；</p> <p>当函数经过 new 调用时，此函数便作为 <strong><u>构造函数</u></strong>，返回一全新的 <strong><u>实例</u></strong> 对象，此实例对象有一个__proto__属性，指向构造函数的原型对象；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 实例为 instance, 构造函数为 Object, 构造函数拥有一个 prototype 属性指向原型</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
</code></pre></div><h3 id="_1-2-1、构造与实例"><a href="#_1-2-1、构造与实例" class="header-anchor">#</a> 1-2-1、构造与实例</h3> <p>构造函数、实例之间关系：</p> <p>创建和被创建的关系，实例需通过 <code>__proto__</code> 找原型，再通过原型的 constructor 找构造其的函数；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091136.png" align="" style="zoom:50%;"> <h3 id="_1-2-2、构造与原型"><a href="#_1-2-2、构造与原型" class="header-anchor">#</a> 1-2-2、构造与原型</h3> <p>构造函数、原型之间关系：</p> <p>函数的原型对象即：<code>构造函数的原型对象.constructor === 函数</code>；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091137.png" align="" style="zoom:50%;"> <h3 id="_1-2-3、实例与原型"><a href="#_1-2-3、实例与原型" class="header-anchor">#</a> 1-2-3、实例与原型</h3> <p>某某实例、原型之间关系**：**</p> <p>实例的原型 === 构造实例的函数的原型对象，即：<code>实例.__proto__ === 构造实例的函数.prototype</code>；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091138.png" align="" style="zoom:50%;"> <h3 id="_1-2-4、prototype-与-proto"><a href="#_1-2-4、prototype-与-proto" class="header-anchor">#</a> 1-2-4、prototype 与 proto</h3> <p>显式原型：prototype：</p> <ul><li><strong><u><em>含义：每一个函数，在创建后都会拥有一个名为 prototype 的属性，属性指向函数的原型对象；</em></u></strong></li> <li>作用：用以实现基于原型的继承与属性共享；
<ul><li>注意：通过 Function.prototype.bind 构造出的函数是例外，其没有 prototype 属性；</li></ul></li></ul> <p>隐式原型：<code>__proto__</code>：</p> <ul><li><strong><u><em>含义：任意 JS 对象，都有内置属性 [[prototype]]，指向创建此对象的函数的显式原型 prototype；</em></u></strong></li> <li>作用：用以构成原型链，同样可用以实现基于原型的继承与属性共享，当找寻某对象属性或方法时，便会沿此进行搜索；
<ul><li>ES5 前，没有标准方法访问此属性(prototype)，但大多数浏览器均支持通过 <code>__proto__</code> 访问；</li> <li>ES5 后，有标准方法可访问：Object.getPrototypeOf()：<code>Object.getPrototypeOf(fn) == test.prototype // true</code></li> <li>注意：Object.prototype 是唯一的，没有原型的对象：</li></ul></li></ul> <p>两者关系：</p> <ul><li><strong><u>对象的隐式原型 <code>__proto__</code> 指向，创建这个对象的函数(constructor)，的显式原型 prototype；</u></strong></li> <li><img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091139.png" align="" style="zoom:50%;"></li></ul> <p><strong><u><em>两者区别：</em></u></strong></p> <ul><li>prototype：函数才有此属性；</li> <li><code>__proto__</code>：对象皆有的属性，但并非规范属性 (部分浏览器实现，标准属性为 [[Prototype]]</li> <li><img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091140.png" align="" style="zoom:50%;"></li></ul> <p>注意事项：</p> <ul><li><p><code>__proto__</code> 为 构造器原型；</p> <ul><li><div class="language-js extra-class"><pre class="language-js"><code>__proto__ <span class="token operator">==</span> constructor<span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// 实际上是 - 饶了一圈...</span>
window<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> window<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype
window<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype
</code></pre></div></li></ul></li> <li><p><code>__proto__</code> 实际上是 getter setter，源于 Object.prototype，使用时可理解成返回 Object.getPrototypeOf(obj)；</p> <ul><li><div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token operator">==</span> fn__proto__ <span class="token comment">// true</span>
</code></pre></div></li></ul></li> <li><p><code>__proto__</code> 指向取决于对象创建的实现方式，图3-5；</p></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091141.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091142.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091143.png" align="" style="zoom:50%;"> <h3 id="_1-2-5、constructor"><a href="#_1-2-5、constructor" class="header-anchor">#</a> 1-2-5、constructor</h3> <p>constructor 属性是原型对象的属性，指向这个原型对象所对应的构造函数；</p> <p>每个对象实例都具有 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor" target="_blank" rel="noopener noreferrer">constructor<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 属性，它指向创建该实例的构造器函数</p> <ul><li>比如：person2.constructor，返回 Person() 构造器</li> <li>比如：new person2.constructor()，返回 Person() 构造器 创建的新实例</li></ul> <h3 id="_1-2-6、关系综述"><a href="#_1-2-6、关系综述" class="header-anchor">#</a> 1-2-6、关系综述</h3> <p>构造函数、原型和实例之间的关系：每个 <u>构造函数</u> 都有一个 <u>原型</u> 对象，<u>原型</u> 对象都包含一个指向 <u>构造函数</u> 的指针，而 <u>实例</u> 都包含一个 <u>原型对象</u> 的指针；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 三者的关系(再述):</span>
实例<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> 原型

<span class="token class-name">原型</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> 构造函数

<span class="token class-name">构造函数</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> 原型

<span class="token class-name">实例</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> 构造函数
<span class="token comment">// 注意: 其实实例上并不是真正有 constructor 这个指针，它其实是从原型链上获取的: </span>
<span class="token comment">// instance.hasOwnProperty('constructor') === false </span>

<span class="token comment">// 例如: </span>
<span class="token comment">// const o = new Object()</span>
<span class="token comment">// o.constructor === Object   --&gt; true</span>
<span class="token comment">// o.__proto__ = null;</span>
<span class="token comment">// o.constructor === Object   --&gt; false </span>

<span class="token comment">// 对象原型 prototype 属性 与 构造函数 prototype 属性间区别：</span>
<span class="token comment">// 前者可通过 Object.getPrototypeOf(obj) 或，已被弃用的 __proto__ 属性获得</span>
<span class="token comment">// 前者是每个实例上都有的属性，后者是构造函数的属性</span>
<span class="token comment">// 也就是说，Object.getPrototypeOf(new Foobar())和 Foobar.prototype 指向着同一个对象</span>
<span class="token comment">// function Foobar(){} -&gt; undefined</span>
<span class="token comment">// foobar = new Foobar() -&gt; Foobar {}</span>
<span class="token comment">// Object.getPrototypeOf(foobar) == Foobar.prototype -&gt; true</span>
</code></pre></div><img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091144.png" style="zoom:35%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091145.png" style="zoom:50%;"> <h3 id="_1-2-6-1、大图解说"><a href="#_1-2-6-1、大图解说" class="header-anchor">#</a> 1-2-6-1、大图解说</h3> <p>再叙：实例对象的原型([[Prototype]] 或 <code>__proto__</code>) === 构造实例的函数的原型对象，即构造实例的函数的 prototype 属性；</p> <p>再叙：构造函数的 prototype 属性，即原型对象，又可作为新的实例对象，实例对象的原型又指向下一轮；</p> <p>再叙：一直到达 Object.prototype，其原型，即 <code>Object.prototype.__proto__ === null</code>；</p> <p>再叙：<code>对象.__proto__…..__proto__</code>为 Object.prototype，随即 <code>Object.prototype. __proto__</code> 指向 Null；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091146.png" align="" style="zoom:50%;"> <ul><li><p>分析：<code>__proto__</code> 即实例对象的原型 <code>[[Prototype]]</code>;</p></li> <li><p>注意：<code>__proto__</code> 是私有属性，现代浏览器将其暴露给用户，修改此值会改变继承关系；</p></li> <li><p>分析：函数构建出的实例对象的原型 <code>__proto__</code>，指向函数的原型 <code>Foo.prototype</code>，图左上角；</p></li> <li><p>分析：函数的属性 prototype，指向函数原型，即 <code>Foo.prototype</code>，图中上方；</p></li> <li><p>分析：函数原型的原型，即 <code>Foo.prototype.__proto__</code> ，指向 Object 原型 <code>Object.prototype</code>，图右上角；</p></li> <li><p>注意：唯一例外：Function 构造函数，可用 <code>Function.__proto__</code> 来访问 <code>Function.prototype</code></p> <ul><li>一般情况是：实例的__proto__指向实例构造函数的 prototype ;</li></ul></li> <li><p>因为：Function 构造函数即其自身，故作为实例化对象来访问；</p> <ul><li><code>Function.__proto__(作为实例) == Function.prototype(作为构造函数)</code>；</li></ul></li> <li><p>注意：唯一例外：<code>Function.prototype</code> 并非普通对象，而是函数对象 (特殊匿名函数，此函数的 <code>__proto__</code> 指向 Object.prototype)；</p></li> <li><p>而且：所有构造函数中，只有 Function 的 prototype 属性为函数</p></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091147.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091148.png" align="" style="zoom:50%;"> <h3 id="_1-2-6-2、大图解说"><a href="#_1-2-6-2、大图解说" class="header-anchor">#</a> 1-2-6-2、大图解说</h3> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091149.png" align="" style="zoom:50%;"> <p>注意：任何对象均函数，均继承 Function 所有属性和方法，而 Function 是内置的构造函数也是对象，均继承 Object 的所有属性方法；</p> <p>注意：各种 function、Object、Function 等实际上均为 new Function() 后的实例，而这些实例原型 <code>__proto__</code> 均指向 Function.prototype；</p> <p>同理：Object、Number、String、Array、Function、Date 等均为函数，而所有函数均由 Function 创建，故其原型 <code>__proto__</code> 指向 Function.prototype：</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091150.png" align="" style="zoom:50%;"> <h2 id="_1-3、new"><a href="#_1-3、new" class="header-anchor">#</a> 1-3、new</h2> <h3 id="_1-3-1、new-过程"><a href="#_1-3-1、new-过程" class="header-anchor">#</a> 1-3-1、new 过程</h3> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091151.png" align="" style="zoom:55%;"> <p>构造调用过程即 new 过程：</p> <ul><li>首先，创建全新的对象 (中间对象) obj；</li> <li>然后，新对象会被执行 [[ 原型 ]] 连接 (将中间对象的原型，指向函数原型，此后便可使用函数原型上的方法和属性)；
<ul><li><code>obj.__proto__ = Target.prototype</code></li></ul></li> <li>然后，新对象会绑定到函数调用的 this (即将函数内部 this 指向中间对象)；</li> <li>最后，若函数返回基本类型，则返回中间对象；若返回对象，则代替中间对象，返回函数返回的对象；</li></ul> <p>再说：new 调用过程：</p> <ul><li>它创建了一个全新的对象</li> <li>它会被执行[[Prototype]](也即 <code>__proto__</code>)链接</li> <li>它使 this 指向新创建的对象</li> <li>通过 new 创建的每个对象将最终被[[Prototype]]链接到这个函数的prototype对象上</li> <li>如果函数没有返回对象类型 Object(包含Functoin, Array, Date, RegExg, Error)，那么new表达式中的函数调用将返回该对象引用</li></ul> <p>再说：new 调用过程：</p> <ul><li>创建(或者说构造)一个全新对象；</li> <li>这个新对象会被执行 [[ Prototype ]] 连接；</li> <li>这个新对象会绑定到函数调用的 this；</li> <li>若函数没有返回其他对象，那么 new 表达式中的函数调用会自动返回这个新对象；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091152.png" align="" style="zoom:50%;"> <p>再说：new 调用过程：</p> <ul><li><strong>1、new 过程中，内部会创建一中间对象，并继承构造函数 prototype</strong>；以继承构造函数原型上的属性和方法；</li> <li><strong>2、在中间对象中执行构造函数(apply)，以修改 this 指向为返回值/中间对象</strong>；以实现构造函数内的赋值操作；</li> <li><strong>3、返回值</strong> (规范规定，若构造方法返回对象，则返回该对象，否则返回中间对象)；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// new 是关键字, 这里用函数来模拟, new Foo(args) &lt;=&gt; myNew(Foo, args)</span>
<span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">foo<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1、创建新对象, 并继承构造方法的 prototype 属性</span>
  <span class="token comment">// 为了把 obj 挂原型链上, 继承构造函数原型上的属性和方法，相当于 obj.__proto__ = Foo.prototype </span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  
  
  <span class="token comment">// 2、执行构造方法, 并为其绑定新 this</span>
  <span class="token comment">// 为了让构造方法能进行 this.name = name 类似操作,为了执行构造函数内的赋值操作, args 是构造方法的入参, 因为此处用 myNew 模拟, 故入参从 myNew 传入</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>

  <span class="token comment">// 3、若构造方法已 return 了一个对象，则就返回该对象，否则返回 myNew 创建的新对象</span>
  <span class="token comment">// 一般情况下，构造方法不会返回新实例，但使用者可以选择返回新实例来覆盖 new 创建的对象</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Object]'</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj
<span class="token punctuation">}</span>

<span class="token comment">// 测试：</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Foo<span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>                 <span class="token comment">// Foo {name: &quot;zhangsan&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><h3 id="_1-3-2、创建对象方式"><a href="#_1-3-2、创建对象方式" class="header-anchor">#</a> 1-3-2、创建对象方式</h3> <p>创建对象的三种方式：字面量、new、Object.create()，但本质的只有1种：new；</p> <ul><li>字面量是方便创建对象的语法糖，本质是 new Object()</li> <li>new Object 内部还是通过 new 创建</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Object.create</span>
<span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_1-4、原型链"><a href="#_1-4、原型链" class="header-anchor">#</a> 1-4、原型链</h2> <p><strong><u>原型链</u></strong>：即 JS 对象通过 <code>__proto__</code>  指向父类对象，直到指向 Object 对象为止，形成的一个原型指向的链条；</p> <p><strong><u>原型链</u></strong>：当访问一对象的属性/方法时，首先在该对象上查找，然后查找该对象原型，以及该对象原型的原型，逐层上找，直到匹配属性/方法或达原型链尾-null；</p> <p><strong><u>原型链</u></strong>：即相互关联的原型组成的链条结构；</p> <p>[[Prototype]] 内置属性，其实就是对其他对象的引用，几乎所有对象在创建时 [[Prototype]] 属性都会被赋予一非空值；</p> <ul><li><p>查找操作：</p> <ul><li>如果，在对象上没有找到需要的属性或者方法引用，引擎就会继续在 [[Prototype]] 关联的对象上进行查找；</li> <li>如果，在后者中也没有找到需要的引用就会继续查找它的 [[Prototype]]，以此类推；</li> <li>这一系列对象的链接即 <strong><u>原型链</u></strong>；</li></ul></li> <li><p>Get 操作：试图引用对象的属性时会触发[[Get]] 操作，比如 myObject.a：</p> <ul><li>首先，检查对象本身是否有这个 [[Prototype]] 内置属性，若有则使用它，若没有，则需使用对象的 [[Prototype]] 链；</li> <li>但若，anotherObject 中也找不到 a 且 [[Prototype]] 链不为空，则继续查找下去，此过程会持续到找到匹配属性名或查找完整条 [[Prototype]] 链；</li> <li>最后，若还是找不到那个值，[[Get]] 操作返回 undefined；</li></ul></li> <li><p>Set 操作：试图给一个 对象设置属性 或 修改已有的属性值会触发 [[Set]] 操作，myObject.foo = &quot;bar”：</p> <ul><li>首先，若 myObject 对象中包含名为 foo 的普通数据访问属性，则只修改已有属性值；
<ul><li>若 myObject 的 [[Prototype]] 链上层也有 foo，此时发生屏蔽，因 myObject.foo 总是会选择原型链中最底层的 foo 属性；</li></ul></li> <li>然后，若 foo 非直接存在于 myObject 中，[[Prototype]] 链就会被遍历，类似 [[Get]] 操作：
<ul><li>若原型链上找不到 foo，foo 就会被直接添加到 myObject 上。</li> <li>若原型链上存在 foo (在 [[Prototype]] 链上层存在名为 foo)：
<ul><li>情况1：其为没有被标记为只读(writable:false)，则会直接在 myObject 中添加一个名为 foo 的新属性，它是屏蔽属性；</li> <li>情况2：其为被标记为只读(writable:false)，则无法修改已有属性或者在 myObject 上创建屏蔽属性；
<ul><li>如果，运行在严格模式下会抛出一个错误，否则，这条赋值语句会被忽略，总之，不会发生屏蔽；</li></ul></li> <li>情况3：其为一个 setter ，则一定会调用这个 setter；
<ul><li>foo 不会被添加到(或说屏蔽于)myObject，也不会重新定义 foo 这个 setter；</li></ul></li></ul></li></ul></li></ul></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091153.png" align="" style="zoom:50%;"> <ul><li>注意：使用 for..in ，遍历对象时原理和查找 [[Prototype]] 链类似，任何可通过原型链访问到且是 enumerable的属性都会被枚举；</li> <li>注意：使用 in 操作符，检查属性在对象中是否存在时，同样会查找对象的整条原型链(此时无论属性是否可枚举)；</li> <li>注意：所有普通 [[Prototype]] 链，最终均指向内置的 Object.prototype：
<ul><li>由于所有普通内置对象都“源于”(将 [[Prototype]] 链的顶端设置为)此 Object.prototype 对象，故包含 JS 中许多通用的功能：</li> <li>比如： .toString() 和 .valueOf()， .hasOwnProperty(..) 和 .isPrototypeOf(..)；</li></ul></li></ul> <p><strong><u>原型链</u></strong>：每一对象都有自己的原型对象：实例对象有原型，原型对象也是对象(此处原型对象相当于上一级原型的实例)，故也有其原型(上一级原型对象)，如此形成的一个链式结构；</p> <p>比如：下图：<code>实例.__proto__</code>指向其原型，<code>原型.__proto__</code>又指向其原型，然后指向 Object.prototype，最终指向 null；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091154.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091155.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091156.png" align="" style="zoom:50%;"> <p><strong><u>原型链</u></strong>：Js 是一种基于原型的语言：每个对象，拥有一个原型对象，对象以其原型为模板，从原型继承方法和属性原型对象也可能拥有原型，并从中继承方法和属性，一层一层、以此类推，此种关系被称为原型链；</p> <ul><li>意义：它解释了为何一个对象会拥有，“定义在其他对象中的属性和方法”。更准确说，它解释了为何一个对象会拥有，定义在 Object的，构造器函数(constructor functions)上的，prototype属性上的属性和方法，而非定义在对象实例上；</li> <li>注意：Js 中并不是复制，而是建立链接：传统的 OOP 中，定义类后，创建对象实例时，类中定义的所有属性和方法都被，复制到实例中，但在 JS 中，并不是复制在 JS 中，是在对象实例，和它的构造器间，建立一个链接(它是 <code>__proto__</code> 属性，是从构造函数的prototype 属性派生的)之后通过上溯原型链，在构造器中找到这些属性和方法</li> <li>重申：原型链中的方法和属性，没有被复制到其他对象，它们的访问需要通过原型链；</li> <li>注意：Object中有大量的属性和方法，但实际被继承的，就只有那些以 Object.prototype 开头的属性；是因为继承的属性和方法是定义在 prototype 属性之上的；比如：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/watch" target="_blank" rel="noopener noreferrer">Object.prototype.watch()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf" target="_blank" rel="noopener noreferrer">Object.prototype.valueOf()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 等；但：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is" target="_blank" rel="noopener noreferrer">Object.is()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener noreferrer">Object.keys()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等不在 prototype 对象内的成员，仅能被 Object() 构造器自身使用，不会被对象实，或继承自 Object() 的对象类型所继承；</li> <li>prototype 属性的值是一个对象，希望被原型链下游的对象继承的属性和方法，都被储存在其中；</li> <li>注意：一般很少将属性定义在构造器上的prototype上，因为不灵活；</li> <li><strong><u>原型链模型</u></strong>：上游对象的方法，不会复制到下游的对象实例中；下游对象本身虽然没有定义这些方法，但通过上溯原型链、能从上游对象中找到它们；这种继承模型提供了一个强大而可扩展的功能系统；</li></ul> <p><strong><u>原型链</u></strong>：即由原型对象组成，每个对象都有 <code>__proto__</code> 属性，指向了创建该对象的构造函数的原型，<code>__proto__</code> 将对象连接起来组成了原型链，是一个用来 <u>实现继承和共享属性</u> 的有限的对象链；它有两个机制和特点：</p> <ul><li><strong>属性查找机制</strong>：当查找对象的属性时，若实例对象自身不存在该属性，则沿着原型链往上一级查找，找到时则输出，不存在时，则继续沿着原型链往上一级查找，直至最顶级的原型对象 <code>Object.prototype</code>，如还是没找到，则输出 <code>undefined</code>；</li> <li>比如：person.valueOf()；</li> <li><img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091157.png" align="" style="zoom:50%;"></li> <li><strong>属性修改机制</strong>：只会修改实例对象本身的属性，若不存在，则进行添加该属性，若需要修改原型的属性时，则可用: <code>b.prototype.x = 2</code>；但会造成所有继承于该对象的实例的属性发生改变；</li> <li>特点：对象的 hasOwnProperty() 来检查对象自身中是否含有该属性；</li> <li>特点：使用 in 检查对象中是否含有某个属性时，如果对象中没有但是原型链中有，也会返回 true；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091158.png" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091159.png" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091200.png" style="zoom:50%;"> <h2 id="_1-5、instance-of"><a href="#_1-5、instance-of" class="header-anchor">#</a> 1-5、instance of</h2> <h3 id="_1-5-1、理解一"><a href="#_1-5-1、理解一" class="header-anchor">#</a> 1-5-1、理解一</h3> <p>在实例的 <strong>原型对象链</strong> 中找到该构造函数的 <code>prototype</code> 属性所指向的 <strong>原型对象</strong>，就返回<code>true</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// __proto__: 代表原型对象链</span>
instance<span class="token punctuation">.</span><span class="token punctuation">[</span>__proto__<span class="token operator">...</span><span class="token punctuation">]</span> <span class="token operator">===</span> instance<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype
<span class="token comment">// return true</span>
</code></pre></div><h3 id="_1-5-2、理解二"><a href="#_1-5-2、理解二" class="header-anchor">#</a> 1-5-2、理解二</h3> <p>应理解为：</p> <p>检测左侧对象 L 的原型链上(即 L.<strong>proto</strong>.<strong>proto</strong>……)，是否存在右侧 R 的 prototype 原型(即 R.prototype)，如下图；</p> <p>或者：用以判断某个构造函数，的 prototype 属性，是否存在于另外一个要检测对象，的原型链上；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">L</span> <span class="token keyword">instanceof</span> <span class="token class-name">R</span> <span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token operator">...</span><span class="token punctuation">.</span> <span class="token operator">===</span> <span class="token class-name">R</span><span class="token punctuation">.</span>prototype 
</code></pre></div><h3 id="_1-5-3、模拟实现"><a href="#_1-5-3、模拟实现" class="header-anchor">#</a> 1-5-3、模拟实现</h3> <p>instanceof 运算时会递归查找 left Value 的原型链，即 <code>left Value.__proto__.__proto__.__proto__</code>... ，直至找到 / 到达顶层为止</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">instance_of</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">R</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token punctuation">.</span>prototype <span class="token comment">// 取 R 显式原型</span>
  <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>		<span class="token comment">// 取 L 隐式原型</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>	<span class="token comment">// 注意严格相等</span>
    <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-5-4、注意事项与示例"><a href="#_1-5-4、注意事项与示例" class="header-anchor">#</a> 1-5-4、注意事项与示例</h3> <ul><li><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
    <span class="token comment">// ...  </span>
<span class="token punctuation">}</span> 
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>xxx <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091201.png" align="" style="zoom:50%;"> <ul><li>instanceof 工作机制；若修改 prototype 的 值，则会改变原有(图2)</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091202.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091203.png" align="" style="zoom:50%;"> <ul><li>Fun 是单纯的函数，<code>Fun.__proto__</code> 属于 Function.prototype，除非 new 出来，否则不属于 Fun.prototype；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091204.png" align="" style="zoom:50%;"> <ul><li>JS 在访问 str 属性时创建临时 String 对象 (假设叫tmpStr)，并在得到此返回值时销毁临时对象，故此处是 <code>tmpStr.__proto__</code> 的值；而引用类型的字面量和基础类型的不一样(图2)；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091205.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091206.png" align="" style="zoom:50%;"> <ul><li>对于三种基本类型的字面声明，instanceof 均返回 false；而其他类型的字面量声明则为 true；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091207.png" align="" style="zoom:50%;"> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091208.png" align="" style="zoom:50%;"> <ul><li><code>Object.prototype.__proto__</code> 为 null，但 null 不等于 <code>Object.prototype</code>；</li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091209.png" align="" style="zoom:50%;"> <h3 id="_1-5-5、js-object-layout"><a href="#_1-5-5、js-object-layout" class="header-anchor">#</a> 1-5-5、JS Object Layout</h3> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091146.png" align="" style="zoom:50%;"> <ul><li><strong>Object instanceof Object</strong></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091210.png" align="" style="zoom:50%;"> <ul><li><strong>Function instanceof Function</strong></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091211.png" align="" style="zoom:50%;"> <ul><li><strong>Foo instanceof Foo</strong></li></ul> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20200909091212.png" align="" style="zoom:50%;"></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">9/23/2020, 12:34:23 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.58d463af.js" defer></script><script src="/assets/js/3.5b6bd7ce.js" defer></script><script src="/assets/js/1.53e5735b.js" defer></script><script src="/assets/js/110.b10adffc.js" defer></script>
  </body>
</html>
