<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、基本 | Leibnize 个人学习笔记</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="素材整理自网络，仅供个人学习记录之用">
    <link rel="preload" href="/assets/css/0.styles.4c1fe16c.css" as="style"><link rel="preload" href="/assets/js/app.58d463af.js" as="script"><link rel="preload" href="/assets/js/3.5b6bd7ce.js" as="script"><link rel="preload" href="/assets/js/1.53e5735b.js" as="script"><link rel="preload" href="/assets/js/78.9dd75caf.js" as="script"><link rel="prefetch" href="/assets/js/10.47a34be1.js"><link rel="prefetch" href="/assets/js/100.2f7c82fb.js"><link rel="prefetch" href="/assets/js/101.57a81617.js"><link rel="prefetch" href="/assets/js/102.8befc7fd.js"><link rel="prefetch" href="/assets/js/103.c690f409.js"><link rel="prefetch" href="/assets/js/104.c8b86b63.js"><link rel="prefetch" href="/assets/js/105.9bac0b69.js"><link rel="prefetch" href="/assets/js/106.77dcd9f8.js"><link rel="prefetch" href="/assets/js/107.305a0cd6.js"><link rel="prefetch" href="/assets/js/108.197f379c.js"><link rel="prefetch" href="/assets/js/109.ed1f6dd8.js"><link rel="prefetch" href="/assets/js/11.d67029e2.js"><link rel="prefetch" href="/assets/js/110.b10adffc.js"><link rel="prefetch" href="/assets/js/111.27cb5e44.js"><link rel="prefetch" href="/assets/js/112.598f5429.js"><link rel="prefetch" href="/assets/js/113.b7f9fe99.js"><link rel="prefetch" href="/assets/js/114.cb9df12d.js"><link rel="prefetch" href="/assets/js/115.4d812f2c.js"><link rel="prefetch" href="/assets/js/116.3a4f5195.js"><link rel="prefetch" href="/assets/js/117.be29161e.js"><link rel="prefetch" href="/assets/js/118.eb6b99b9.js"><link rel="prefetch" href="/assets/js/119.b3f342d7.js"><link rel="prefetch" href="/assets/js/12.f13f81de.js"><link rel="prefetch" href="/assets/js/120.f343ff14.js"><link rel="prefetch" href="/assets/js/121.5983ebbd.js"><link rel="prefetch" href="/assets/js/122.8dd46465.js"><link rel="prefetch" href="/assets/js/123.71ffc4a2.js"><link rel="prefetch" href="/assets/js/124.4e568dbe.js"><link rel="prefetch" href="/assets/js/125.43b22375.js"><link rel="prefetch" href="/assets/js/126.6522a7eb.js"><link rel="prefetch" href="/assets/js/127.8308b909.js"><link rel="prefetch" href="/assets/js/128.1fd06c87.js"><link rel="prefetch" href="/assets/js/129.91e28eff.js"><link rel="prefetch" href="/assets/js/13.ac76083d.js"><link rel="prefetch" href="/assets/js/130.5027f9f0.js"><link rel="prefetch" href="/assets/js/131.4554c2f2.js"><link rel="prefetch" href="/assets/js/132.c643aed4.js"><link rel="prefetch" href="/assets/js/133.5e499634.js"><link rel="prefetch" href="/assets/js/134.59b1b330.js"><link rel="prefetch" href="/assets/js/135.da46fa8a.js"><link rel="prefetch" href="/assets/js/136.3a67d738.js"><link rel="prefetch" href="/assets/js/137.4d5f5f5e.js"><link rel="prefetch" href="/assets/js/138.1fe93dba.js"><link rel="prefetch" href="/assets/js/139.d7f54242.js"><link rel="prefetch" href="/assets/js/14.8e5c3120.js"><link rel="prefetch" href="/assets/js/140.82be0f82.js"><link rel="prefetch" href="/assets/js/141.979c5a91.js"><link rel="prefetch" href="/assets/js/142.658ae82d.js"><link rel="prefetch" href="/assets/js/143.17532399.js"><link rel="prefetch" href="/assets/js/144.dc947607.js"><link rel="prefetch" href="/assets/js/145.fc89bd8c.js"><link rel="prefetch" href="/assets/js/146.a5e1b7eb.js"><link rel="prefetch" href="/assets/js/147.0f8384fc.js"><link rel="prefetch" href="/assets/js/148.fccbb459.js"><link rel="prefetch" href="/assets/js/149.d2d32bbc.js"><link rel="prefetch" href="/assets/js/15.e17af96c.js"><link rel="prefetch" href="/assets/js/150.73f88a17.js"><link rel="prefetch" href="/assets/js/151.dd85d521.js"><link rel="prefetch" href="/assets/js/152.ca632725.js"><link rel="prefetch" href="/assets/js/153.02b859a6.js"><link rel="prefetch" href="/assets/js/154.268e5dd0.js"><link rel="prefetch" href="/assets/js/155.0df9a80c.js"><link rel="prefetch" href="/assets/js/156.0e786e96.js"><link rel="prefetch" href="/assets/js/157.79cdcd86.js"><link rel="prefetch" href="/assets/js/158.8a131380.js"><link rel="prefetch" href="/assets/js/159.7aed0b17.js"><link rel="prefetch" href="/assets/js/16.472bfca7.js"><link rel="prefetch" href="/assets/js/160.31daa77a.js"><link rel="prefetch" href="/assets/js/161.a44e6bf4.js"><link rel="prefetch" href="/assets/js/162.86180287.js"><link rel="prefetch" href="/assets/js/163.c9fd632a.js"><link rel="prefetch" href="/assets/js/164.15e04e68.js"><link rel="prefetch" href="/assets/js/165.69bcb02b.js"><link rel="prefetch" href="/assets/js/166.084ab8e2.js"><link rel="prefetch" href="/assets/js/167.0f42977a.js"><link rel="prefetch" href="/assets/js/168.a4474b7b.js"><link rel="prefetch" href="/assets/js/169.3d05b3ba.js"><link rel="prefetch" href="/assets/js/17.f9d21c6e.js"><link rel="prefetch" href="/assets/js/170.484ffe30.js"><link rel="prefetch" href="/assets/js/171.01628965.js"><link rel="prefetch" href="/assets/js/172.2dc6c763.js"><link rel="prefetch" href="/assets/js/173.4fa13f79.js"><link rel="prefetch" href="/assets/js/174.5da03623.js"><link rel="prefetch" href="/assets/js/175.7c3cae2a.js"><link rel="prefetch" href="/assets/js/176.3df0d63b.js"><link rel="prefetch" href="/assets/js/177.3aa8d705.js"><link rel="prefetch" href="/assets/js/178.5b48450e.js"><link rel="prefetch" href="/assets/js/179.3a963dce.js"><link rel="prefetch" href="/assets/js/18.8314222e.js"><link rel="prefetch" href="/assets/js/180.d67c14c9.js"><link rel="prefetch" href="/assets/js/181.c7bf4046.js"><link rel="prefetch" href="/assets/js/182.4a4705fd.js"><link rel="prefetch" href="/assets/js/183.9183a7da.js"><link rel="prefetch" href="/assets/js/184.290760c3.js"><link rel="prefetch" href="/assets/js/185.64cd4609.js"><link rel="prefetch" href="/assets/js/186.2940410e.js"><link rel="prefetch" href="/assets/js/187.12b14c61.js"><link rel="prefetch" href="/assets/js/188.1fea2b8b.js"><link rel="prefetch" href="/assets/js/189.04b7d343.js"><link rel="prefetch" href="/assets/js/19.ed77427b.js"><link rel="prefetch" href="/assets/js/190.a7d6ec94.js"><link rel="prefetch" href="/assets/js/191.8ad7d925.js"><link rel="prefetch" href="/assets/js/192.2fd0c8f8.js"><link rel="prefetch" href="/assets/js/193.4f8a87cd.js"><link rel="prefetch" href="/assets/js/194.9e2e73ca.js"><link rel="prefetch" href="/assets/js/195.c6292340.js"><link rel="prefetch" href="/assets/js/196.b7ff135e.js"><link rel="prefetch" href="/assets/js/197.83a7d260.js"><link rel="prefetch" href="/assets/js/198.530f7c9c.js"><link rel="prefetch" href="/assets/js/199.c5048869.js"><link rel="prefetch" href="/assets/js/20.09503993.js"><link rel="prefetch" href="/assets/js/200.3435c341.js"><link rel="prefetch" href="/assets/js/201.1e492eea.js"><link rel="prefetch" href="/assets/js/202.f7b55746.js"><link rel="prefetch" href="/assets/js/203.08e404b6.js"><link rel="prefetch" href="/assets/js/204.1bc4bdd8.js"><link rel="prefetch" href="/assets/js/21.38c15b75.js"><link rel="prefetch" href="/assets/js/22.ae59de53.js"><link rel="prefetch" href="/assets/js/23.1c6d3160.js"><link rel="prefetch" href="/assets/js/24.28c7c43e.js"><link rel="prefetch" href="/assets/js/25.e53d1234.js"><link rel="prefetch" href="/assets/js/26.6fe14a49.js"><link rel="prefetch" href="/assets/js/27.910bdd9c.js"><link rel="prefetch" href="/assets/js/28.9d9cd019.js"><link rel="prefetch" href="/assets/js/29.525906aa.js"><link rel="prefetch" href="/assets/js/30.8a1a47c0.js"><link rel="prefetch" href="/assets/js/31.750a297b.js"><link rel="prefetch" href="/assets/js/32.290c8619.js"><link rel="prefetch" href="/assets/js/33.885855c1.js"><link rel="prefetch" href="/assets/js/34.fb5b3f84.js"><link rel="prefetch" href="/assets/js/35.22021291.js"><link rel="prefetch" href="/assets/js/36.6736dcbf.js"><link rel="prefetch" href="/assets/js/37.50fc071e.js"><link rel="prefetch" href="/assets/js/38.a6f00886.js"><link rel="prefetch" href="/assets/js/39.e5f0c600.js"><link rel="prefetch" href="/assets/js/4.4c62e10b.js"><link rel="prefetch" href="/assets/js/40.7eaf6de1.js"><link rel="prefetch" href="/assets/js/41.c55fd828.js"><link rel="prefetch" href="/assets/js/42.2c5aaafc.js"><link rel="prefetch" href="/assets/js/43.6c939d74.js"><link rel="prefetch" href="/assets/js/44.22ccc866.js"><link rel="prefetch" href="/assets/js/45.56a056b8.js"><link rel="prefetch" href="/assets/js/46.6901927f.js"><link rel="prefetch" href="/assets/js/47.78460423.js"><link rel="prefetch" href="/assets/js/48.12fddaae.js"><link rel="prefetch" href="/assets/js/49.55f5515e.js"><link rel="prefetch" href="/assets/js/5.97a7c0dc.js"><link rel="prefetch" href="/assets/js/50.5c665644.js"><link rel="prefetch" href="/assets/js/51.9fbd3941.js"><link rel="prefetch" href="/assets/js/52.f3a93332.js"><link rel="prefetch" href="/assets/js/53.f7c91d71.js"><link rel="prefetch" href="/assets/js/54.035bd227.js"><link rel="prefetch" href="/assets/js/55.9d4300de.js"><link rel="prefetch" href="/assets/js/56.1fa21a7d.js"><link rel="prefetch" href="/assets/js/57.c6af5e20.js"><link rel="prefetch" href="/assets/js/58.8c0baaa7.js"><link rel="prefetch" href="/assets/js/59.63f1befc.js"><link rel="prefetch" href="/assets/js/6.8e992509.js"><link rel="prefetch" href="/assets/js/60.35539f20.js"><link rel="prefetch" href="/assets/js/61.0872b63b.js"><link rel="prefetch" href="/assets/js/62.6749d184.js"><link rel="prefetch" href="/assets/js/63.0a8a07d3.js"><link rel="prefetch" href="/assets/js/64.a2eeb6f7.js"><link rel="prefetch" href="/assets/js/65.d78ecb46.js"><link rel="prefetch" href="/assets/js/66.1e1a87a2.js"><link rel="prefetch" href="/assets/js/67.b550d647.js"><link rel="prefetch" href="/assets/js/68.68258f2e.js"><link rel="prefetch" href="/assets/js/69.9f502a69.js"><link rel="prefetch" href="/assets/js/7.159745e4.js"><link rel="prefetch" href="/assets/js/70.c9b2fe76.js"><link rel="prefetch" href="/assets/js/71.b7b04483.js"><link rel="prefetch" href="/assets/js/72.edb7dfe5.js"><link rel="prefetch" href="/assets/js/73.869de1e4.js"><link rel="prefetch" href="/assets/js/74.7816f275.js"><link rel="prefetch" href="/assets/js/75.0457b07c.js"><link rel="prefetch" href="/assets/js/76.79a2eaee.js"><link rel="prefetch" href="/assets/js/77.66cfa995.js"><link rel="prefetch" href="/assets/js/79.f6111e69.js"><link rel="prefetch" href="/assets/js/8.b79c23ae.js"><link rel="prefetch" href="/assets/js/80.fff0a469.js"><link rel="prefetch" href="/assets/js/81.42c5ebec.js"><link rel="prefetch" href="/assets/js/82.ca2f7f18.js"><link rel="prefetch" href="/assets/js/83.ed547319.js"><link rel="prefetch" href="/assets/js/84.377155d9.js"><link rel="prefetch" href="/assets/js/85.e5aab871.js"><link rel="prefetch" href="/assets/js/86.14705636.js"><link rel="prefetch" href="/assets/js/87.502cb8e9.js"><link rel="prefetch" href="/assets/js/88.d8f271ec.js"><link rel="prefetch" href="/assets/js/89.3e9deca1.js"><link rel="prefetch" href="/assets/js/9.23c0899b.js"><link rel="prefetch" href="/assets/js/90.4de4929c.js"><link rel="prefetch" href="/assets/js/91.307ce9fd.js"><link rel="prefetch" href="/assets/js/92.47e69683.js"><link rel="prefetch" href="/assets/js/93.34abda4c.js"><link rel="prefetch" href="/assets/js/94.00078270.js"><link rel="prefetch" href="/assets/js/95.4c9ca2ce.js"><link rel="prefetch" href="/assets/js/96.9121392c.js"><link rel="prefetch" href="/assets/js/97.41f6bdb8.js"><link rel="prefetch" href="/assets/js/98.4524a102.js"><link rel="prefetch" href="/assets/js/99.7d313788.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4c1fe16c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Leibnize 个人学习笔记</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Leibnize 个人学习笔记</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Leibnize 个人学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Basics/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  基本
</a></div><div class="nav-item"><a href="/NetWork/" class="nav-link"><i class="iconfont undefined"></i>
  网络
</a></div><div class="nav-item"><a href="https://github.com/rjwx60" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><!----> <h3 class="name" data-v-ca798c94>
    Leibnize 个人学习笔记
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>0</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>0</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/Basics/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  基本
</a></div><div class="nav-item"><a href="/NetWork/" class="nav-link"><i class="iconfont undefined"></i>
  网络
</a></div><div class="nav-item"><a href="https://github.com/rjwx60" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/01-前端基础" class="sidebar-heading clickable open"><span>01-前端基本</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Basics/01-前端基础/HTML.html" class="sidebar-link">一、HTML</a></li><li><a href="/Basics/01-前端基础/CSS.html" class="sidebar-link">二、CSS</a></li><li><a href="/Basics/01-前端基础/DOMBOM.html" class="sidebar-link">三、DOMBOM</a></li><li><a href="/Basics/01-前端基础/Summary.html" class="sidebar-link">四、Summary</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/02-前端性能" class="sidebar-heading clickable"><span>02-前端性能</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/03-前端工程" class="sidebar-heading clickable"><span>03-前端工程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/04-前端异步" class="sidebar-heading clickable"><span>04-前端异步</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/05-前端设计" class="sidebar-heading clickable"><span>05-前端设计</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/06-前端数据" class="sidebar-heading clickable"><span>06-前端数据</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/07-前端安全" class="sidebar-heading clickable"><span>07-前端安全</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/08-前端概念" class="sidebar-heading clickable"><span>08-前端概念</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/09-前端实现" class="sidebar-heading clickable"><span>09-前端实现</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/10-前端新标" class="sidebar-heading clickable"><span>10-前端新标</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/11-前端会话" class="sidebar-heading clickable"><span>11-前端会话</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/12-前端框架" class="sidebar-heading clickable"><span>12-前端框架</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/14-浏览器相关" class="sidebar-heading clickable"><span>14-浏览器相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/15-前端核心" class="sidebar-heading clickable"><span>15-前端核心</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Basics/16-前端Node" class="sidebar-heading clickable"><span>16-前端Node</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Leibnize 个人学习笔记</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>一、基本</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>Leibnize 个人学习笔记</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="一、基本"><a href="#一、基本" class="header-anchor">#</a> 一、基本</h1> <h2 id="_1-2、问题分析"><a href="#_1-2、问题分析" class="header-anchor">#</a> 1-2、问题分析</h2> <p>优化方向有两个：HTTP 请求、JS 加载(可通过控制台网络进行观察)、体验优化</p> <h3 id="_1-2-1、请求优化"><a href="#_1-2-1、请求优化" class="header-anchor">#</a> 1-2-1、请求优化</h3> <p><strong><u>合理缓存</u></strong></p> <p>合理使用缓存，降低请求等待的时间，可以通过达到性能优化。</p> <p><strong><u>内容分发</u></strong></p> <p>将非核心资源通过 CDN 的方式进行分发，例如使用的第三方库（React、Vue、地图等），可以有效减小请求包的体积，同时稳定高速的 CDN 服务器也可以加快请求的速度；CDN 通常会配合异步加载一起使用；</p> <p><strong><u>异步加载</u></strong></p> <ul><li>defer：defer 是 HTML 解析完才会执行。如果是多个，按照加载的顺序依次执行。defer 脚本会在 DOMContentLoaded 和 load 事件之前执行</li> <li>async：async 会在脚本加载完之后立即执行。如果是多个，执行顺序和加载顺序无关。async 会在 load 事件之前执行，但并不能确保与 DOMContentLoaded 的执行先后顺序</li></ul> <p><img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20201010072606.png" alt="异步加载脚本"></p> <p><strong><u>图片优化</u></strong></p> <p>使用合适的图片格式作为网站的图片，比如 WebP；</p> <p><strong><u>资源压缩</u></strong></p> <p>目前浏览器大多都支持对压缩资源进行加载，比如 js、css 的 gzip。开启压缩后，会让资源的体积减小，从而降低请求时间；</p> <p><strong><u>HTTP/2</u></strong></p> <p>随着时间的推移，迁移到 HTTP/2 是不可避免的。目前浏览器对于 HTTP/2 的支持度都非常友好，同时相对于 HTTP/1，HTTP/2 在性能上有着非常显著的提升</p> <p>二进制分帧层：HTTP/1.x 协议以换行符作为纯文本的分隔符，而 HTTP/2 将所有的传输的信息分割为更小的消息和帧，并采用二进制格式对它们进行编码；</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20201010072416.png" style="zoom:33%;"> <p>服务端推送：服务端可以先于客户端检测到将要请求的资源，提前推送到客户端，不发送所有资源的实体，只发送资源的 URL。客户端接到后会进行验证缓存，如果发现需要这些资源，则正式发起请求。</p> <p>标头压缩：每个 HTTP 传输都承载一组标头，这些表头说明了传输的资源以及属性。在 HTTP/1.x 中，这些元数据始终以纯文本形式，通常会给每个传输增加 500 - 800 字节的开销。如果使用 HTTP Cookie，增加的开销有时会达到上千字节。为了减少此开销和提高性能，HTTP/2 使用 HPACK 压缩格式压缩请求和响应标头元数据，这种格式采用两种简单但是强大的技术：</p> <ul><li>支持通过静态霍夫曼代码对传输的标头字段进行编码，从而减小了各个传输的大小；</li> <li>客户端和服务端之间同时维护和更新一个包含之前见过的标头字段的索引列表（换句话说，它可以建立一个共享的压缩上下文），对相同请求而言不需要再次发送和响应，比如 User-Agent</li></ul> <p>在 HTTP/2 中，请求和响应标头字段的定义保持不变，仅有一些微小的差异：所有标头字段均为小写，请求行现在拆分为各个 <code>:method</code>、<code>:schema</code>、<code>:authority</code> 和 <code>:path</code> 伪标头字段。</p> <img src="https://leibnize-picbed.oss-cn-shenzhen.aliyuncs.com/img/20201010072431.png" style="zoom:33%;"> <p>多路复用：每个 TCP 连接智能发送一个请求，HTTP/1.x 在前面的请求没有完成前，后面的请求将会阻塞。其实在 HTTP/2 之前，我们在写代码的时候也用过类似的思想，比如：合并 CSS 和 JS 代码、雪碧图、Iconfont；HTTP/2 的出现又让我们省掉不少麻烦。多路复用允许同时通过单一 HTTP 请求多个响应；</p> <p><strong><u>IconFont</u></strong></p> <p>字体图标，即通过自体的方式展示图标，多用于渲染图标、简单图形、特殊字符等；针对加载图片张数较多的情况，可有效减少 HTTP 请求次数，而一般字体体积较小，故请求传输数据量较少；与直接引入图片不同，IconFont 可以像使用字体一样，设置大小和颜色，还可以通过 CSS 设置特殊样式，且因为是矢量图，不存在是真的情况；</p> <h3 id="_1-2-2、加载优化"><a href="#_1-2-2、加载优化" class="header-anchor">#</a> 1-2-2、加载优化</h3> <p><strong><u>拆包配置</u></strong></p> <p>若不配置拆包，Webpack 会将所有资源都打包在一个 js 文件中，让响应体积变得非常大，且会加载无关资源；</p> <p>合理配置拆包，让每次请求都只请求对应的核心资源，从而达到按需加载的程度；拆包通常的逻辑：</p> <ul><li>业务代码和第三方依赖进行拆分</li> <li>对于第三方依赖：
<ul><li>将版本经常变动的与版本不怎么变动的进行拆分</li> <li>版本不怎么变动的依赖可以合理配置 CDN</li></ul></li> <li>对于业务代码：
<ul><li>将业务模块和公共模块进行拆分</li> <li>业务模块也根据调用的次数进行拆分</li> <li>将首屏模块单独进行拆分</li></ul></li></ul> <p><strong><u>异步加载</u></strong></p> <p>非核心资源不需在拉取模版后立马就加载，可使用异步加载，让这些非核心资源在视图构建完毕以后再进行加载；</p> <p><strong><u>预加载</u></strong></p> <p>与首屏优化一样，路由跳转优化也是非常关键；可通过判断是否需要进行路由跳转，在跳转前做一些提前加载，从而达到跳转完成后，资源立马加载完毕的效果从而提升加载速度；</p> <p><strong><u>摇树优化</u></strong></p> <p>打包过程中使用摇树的方式，可以将无用的代码清除，从而减小包的体积来达到性能提升。</p> <p><strong><u>多线程处理</u></strong></p> <p>现代浏览器大都支持 Worker，这是一种浏览器实现多线程的方式，他可以与 JS 线程、GUI 线程同时运行，通过 Worker，我们可以将一些复杂繁琐的操作交给子线程来完成，从而避免渲染线程的阻塞，来达到性能的优化；但注意，线程间的通信是需要消耗时间，应合理地使用；</p> <p><strong><u>使用外链样式而非内联样式</u></strong></p> <p>浏览器对于外链样式处理的速度会比内联样式更快(style-components)；</p> <p>优先使用 link 标签，而非 css 中的 @import，原因在于 link 的加载是和 GUI 线程并行的，但 <code>@import</code> 需要等待 HTML 完全处理完成后才进行加载；</p> <p><strong><u>懒加载</u></strong></p> <p>只加载可视区的内容，当页面向下滚动时，才加载后面内容；</p> <p>原理：非常简单，先不设置图片的 src 属性，将图片真实路径放在一个浏览器不认识的属性中，然后去监听 scroll 事件；当页面的 scrollTop 与浏览器高度之和大于图片剧页面顶端的 Y 时，说明图片已进入可视区域，这时把 data-src 放到 src 中即可；</p> <ul><li>对于大多数用户，特别是移动端和网速比较差的用户，如果首屏加载过多的图片，页面将会加载得很慢而且浪费用户的流量；</li> <li>JavaScript 脚本通常要等到 DOM 加载完成后才会执行，如果加载的资源过多，可能会影响网页的正常使用；</li></ul> <p>社区成熟的轮子比比皆是：Lozad.js、vue-lazyload、react-lazyload</p> <h3 id="_1-2-3、体验优化"><a href="#_1-2-3、体验优化" class="header-anchor">#</a> 1-2-3、体验优化</h3> <p><strong><u>骨架屏</u></strong></p> <p>使用 loading 图或者是骨架屏，可以一定程度上减少用户等待加载的焦虑感，让用户感觉没有等太久，这就是用户体验级的优化；</p> <p><strong><u>服务端渲染</u></strong></p> <p>在条件允许的情况下，将客户端渲染迁移到服务端渲染，利用服务端高性能表现，可以实现用户拉去到模版之后立马显示视图，省去中间 JS 加载过程；</p> <p><strong><u>GPU加速</u></strong></p> <p>直接操作 DOM，有可能会引起大面积的重排和重绘，从而引起掉帧情况，导致用户体验下降；合理使用 CSS3 GPU 加速，可避免使用动画之后的重排和重绘，达到更流畅的动画效果；但是开启 CSS3 GPU 加速是非常消耗功耗的，在移动端上面谨慎使用；</p> <p><strong><u>虚拟滚动</u></strong></p> <p>页面进行滚动时，会触发浏览器重排，若此时前端需要渲染大量数据，且还不允许分页，这种情况下会导致浏览器掉帧、卡顿甚至假死情况；</p> <p>这种情况下，若不能使用分页进行优化，通常我们会使用虚拟滚动的方式来解决问题；</p> <p>因 DOM 元素创建和渲染所需时间成本高，在大数据情况下，完成渲染列表所需要的时间不可接受，故可只渲染可视区域，从而达到极高初次渲染性能；</p> <h1 id="x、其他"><a href="#x、其他" class="header-anchor">#</a> X、其他</h1> <h3 id="preload-prefetch-dns-prefetch"><a href="#preload-prefetch-dns-prefetch" class="header-anchor">#</a> <a href="https://juejin.im/post/6844903562070196237#heading-5" target="_blank" rel="noopener noreferrer">preload,prefetch,dns-prefetch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li>使用 preload 指令的好处包括：</li> <li>允许浏览器来设定资源加载的优先级因此可以允许前端开发者来优化指定资源的加载。</li> <li>赋予浏览器决定资源类型的能力，因此它能分辨这个资源在以后是否可以重复利用。</li> <li>浏览器可以通过指定 as 属性来决定这个请求是否符合 content security policy。</li> <li>浏览器可以基于资源的类型（比如 image/webp）来发送适当的 accept 头。</li></ul> <h3 id="prefetch"><a href="#prefetch" class="header-anchor">#</a> Prefetch</h3> <p>Prefetch 是一个低优先级的资源提示，允许浏览器在后台（空闲时）获取将来可能用得到的资源，并且将他们存储在浏览器的缓存中。一旦一个页面加载完毕就会开始下载其他的资源，然后当用户点击了一个带有 prefetched 的连接，它将可以立刻从缓存中加载内容。</p> <h3 id="dns-prefetching"><a href="#dns-prefetching" class="header-anchor">#</a> DNS Prefetching</h3> <p>DNS prefetching 允许浏览器在用户浏览页面时在后台运行 DNS 的解析。如此一来，DNS 解析在用户点击一个链接时已完成，故可减少延迟；可在一个 link 标签属性中添加 rel=&quot;dns-prefetch'  来对指定的 URL 进行 DNS prefetching；</p> <h3 id="首屏加载优化"><a href="#首屏加载优化" class="header-anchor">#</a> 首屏加载优化</h3> <p>首屏时间是指浏览器从响应用户输入网址地址，到首屏内容渲染完成的时间，此时整个网页不一定要全部渲染完成，但在当前视窗的内容需要；</p> <p>白屏时间是指浏览器从响应用户输入网址地址，到浏览器开始显示内容的时间；白屏时间是首屏时间的一个子集；</p> <ul><li>CDN分发</li> <li>HTTP缓存方案：强缓存+hash文件</li> <li>缓存方案，例如存储在内存(即保存变量)，另一个存储在LocalStorage</li> <li>动态资源加载：路由动态加载、组件动态加载</li> <li>利用好<code>async</code>和<code>defer</code>两个属性</li> <li>页面使用骨架屏</li> <li>使用 SSR 渲染</li> <li>利用好HTTP压缩，比如指定<code>Content-Encoding</code>首部字段为<code>gzip</code></li></ul> <h3 id="缓存方案"><a href="#缓存方案" class="header-anchor">#</a> 缓存方案</h3> <ul><li>对于一些没有指纹信息的资源，例如 <code>index.html</code>可使用<code>Cache-Control: no-cache</code>开启协商缓存</li> <li>对于带有指纹信息资源，一般使用 splitChunksPlugin 进行代码分割，来保证造成最小范围的缓存失效，再设置 <code>Cache-Control: max-age=3153600</code></li> <li>不需要缓存的资源设置 <code>Cache-Control: no-store</code>，即不强缓存也不进行协商缓存</li></ul> <p>https://mp.weixin.qq.com/s/d9J-_aF9K8QTUtemol-EfQ</p> <p>https://mp.weixin.qq.com/s/7NJv21Dz7eGFFt-c3qitWw</p> <p>https://mp.weixin.qq.com/s/J1hMFK9LfzvTNvEtyOwE-Q</p> <p>https://www.smashingmagazine.com/2020/01/front-end-performance-checklist-2020-pdf-pages/</p> <h2 id="名词解释"><a href="#名词解释" class="header-anchor">#</a> 名词解释</h2> <ul><li><strong>有损压缩</strong>：借由将次要的信息数据舍弃，牺牲一些质量来减少数据量、提高压缩比。这个过程是不可逆的。图片常见的有损压缩手段是合并相近的像素点。</li> <li><strong>无损压缩</strong>：数据经过压缩后，信息不受损失，还可以完全恢复到压缩前的样子。无损压缩一般通过两个步骤完成：
<ol><li>产生数据的统计模型</li> <li>利用这个统计模型将较常出现的数据用较短的比特序列表示较不常出现的数据用较长的比特序列表示</li></ol></li> <li><strong>索引色（Indexed Color）</strong>：一个字节 2^8 表示一个颜色，也就是最多支持 256 种颜色</li> <li><strong>直接色（Direct Color）</strong>：4 个数字表示一个颜色，分别表示红、黄、蓝以及透明度，所以最多可以表达 3^32 种颜色</li> <li><strong>位图（Bitmap）</strong>：又叫栅格图、点阵图，使用像素阵列来表示图像。位图就是由像素阵列的排列来实现其显示效果的，每个像素有自己的颜色信息，在对位图图像进行编辑操作的时候，可操作的对象是每个像素，我们可以改变图像的色相、饱和度、明度，从而改变图像的显示效果。位图根据位深度，有 1、4、8、16、24、32 位图像等。位图放大会失真变模糊。</li> <li><strong>矢量图</strong>：计算机图形学中用点、直线或者多边形等基于数学方程的几何图元表示图像。相比较位图，矢量图保存最少的信息，体积更小，缩放不会失真。</li> <li><strong>通道</strong>：RGB 三种颜色信息称为红通道、绿通道、蓝通道，透明度事是 Alpha 通道。</li></ul> <h2 id="web-中常用图片格式说明"><a href="#web-中常用图片格式说明" class="header-anchor">#</a> Web 中常用图片格式说明</h2> <ul><li><strong>JPEG/JPG</strong>：使用 JPEG 格式压缩的图片文件，是目前应用最广泛的图片格式之一。最普遍使用的扩展名格式为 .jpg，其他常用的扩展名还包括：.jpeg、.jpe、.jfif 以及 .jif。联合图像专家小组 1992 年发布的 JPEG 压缩标准，1994 年获得 ISO10918-1 认证。其特点是有损压缩，直接色，位图，体积最小，常用于颜色较为丰富、无透明要求的图片。</li> <li><strong>PNG</strong>：PNG 是一种无损压缩的位图图形格式，支持索引、会读、RGB 三种颜色方案以及 Alpha 通道等特性。PNG 开发目标是改善并取代 GIF 作为适合网络传输的格式而不需要专利许可。使用场景是带有透明、半透明背景的图片，需要在网络传输中显示预览效果后展示全貌。上古时期 IE6 不支持 PNG 半透明，需要用 hack 方法解决。PNG 体积较大，非必需可用 JPG 替代。PNG 有 png8、png24、png32 之分。
<ul><li>png8：最多支持 256 色的 PNG，无损、索引色的位图。非动图可以替代 GIF，体积较小，透明度支持也更好。</li> <li>png24：最多支持 2^24 色的 PNG，不支持透明，无损、直接色的位图。目标是替换 JPG，但一般来说，相同显示效果，PNG 图片是 JPG 体积的数倍。</li> <li>png32：加上 8 位 Alpha 通道的 png24.</li></ul></li> <li><strong>GIF</strong>：图像互换格式是一种位图图形文件格式，无损压缩、索引色。原始版本为 87a，1989 年发布 89a 版本，支持多帧动画和透明色。1995 年网景 2.0 发布，定义了动画循环多少次或是否无限次播放，现在聊天的动图都是基于该版本的 GIF。GIF 的特性如下：
<ul><li>优秀的 LZW 算法在保证质量的同时将体积变得更小</li> <li>可插入多帧实现动画效果</li> <li>可实现透明效果</li> <li>最多支持 256 色，故不适用于真彩色图片</li></ul></li> <li><strong>WebP</strong>：谷歌 2010 年发布的同时支持有损和无损压缩的图片文件格式。有损用来替代 JPG，无损用来替代 PNG，动态用来替代 GIF。根据谷歌较早前的测试，WebP 的无损压缩比网络上找到的 PNG 少 45% 的文件大小，即使这些 PNG 已经使用 Pngcrush 和 PNGOUT 处理过，WebP 还是可以减少将近 30% 的文件体积。WebP 目前还不能全平台兼容，相关兼容性可在此<a href="https://caniuse.com/#feat=webp" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 查看。</li> <li><strong>SVG</strong>：可缩放矢量图形是一种基于可扩展编程语言（XML），用于描述二维矢量图形的图形格式。SVG 由 W3C 制定，是一个开放标准。SVG 的优点是文件可读，易于修改编辑，支持多种滤镜和特殊效果，在不改变图片文件的前提下可实现位图种类似图片阴影的效果，还可以生成动态图形。</li></ul> <h2 id="雪碧图"><a href="#雪碧图" class="header-anchor">#</a> 雪碧图</h2> <p>雪碧图是一种 CSS 图像合成技术，主要用于小图片显示。</p> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <p>在网页中，为了更好的展示效果，通常会采用一些小图标来替代文字。通常的方式包括 IconFonts、SVG Icons、小图片。其中 Icon Font支持单色，SVG Icons 需 IE9+。</p> <blockquote><p>如不考虑兼容性问题，推荐使用 SVG Icons，体积更小，显示效果更好。</p></blockquote> <p>如果采用小图片，需要考虑一个问题：每张小图片独立请求，加载时都会产生一个 HTTP 请求，而小图片的体积甚至比 HTTP 请求头等结构的体积还要小，显得非常没有必要。</p> <p>所以我们通常会将所有小图片合并成一张图片请求。</p> <h3 id="实现原理"><a href="#实现原理" class="header-anchor">#</a> 实现原理</h3> <p>将小图标合并成一张图片，利用 <code>background-position</code> 属性值来确定图片呈现的位置。</p> <h3 id="自动生成"><a href="#自动生成" class="header-anchor">#</a> 自动生成</h3> <p>每次修改或新增图片，都需要对雪碧图进行修改，如果依靠人工维护，成本太高，所以我们使用 spritesmith。它可以自动合并图片，并得到图片在合并后的相对位置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Spritesmith <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'spritesmith'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseDir <span class="token operator">=</span> <span class="token string">'./images'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>baseDir<span class="token punctuation">)</span>
<span class="token keyword">const</span> sprites <span class="token operator">=</span> files<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>baseDir<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">)</span>

Spritesmith<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">{</span>src<span class="token operator">:</span> sprites<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>运行的输出结果如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  coordinates<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'images/alipay.png'</span><span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">131</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">81</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">73</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'images/taobao.png'</span><span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">177</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">114</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">114</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'images/wechat.png'</span><span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">177</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">131</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'images/xinlang.png'</span><span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">81</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">131</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">72</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">72</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">291</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">204</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  image<span class="token operator">:</span> <span class="token operator">&lt;</span>Buffer <span class="token number">89504</span>e <span class="token number">470</span>d <span class="token number">0</span>a <span class="token number">1</span>a <span class="token number">0</span>a <span class="token number">0000000</span>d <span class="token number">4948445200000123000000</span> cc <span class="token number">08060000003845</span> c5 ce <span class="token number">00004006494441547801</span> ec c1 <span class="token number">0</span>b <span class="token number">98</span> e6 <span class="token number">0561</span> <span class="token operator">...</span> <span class="token number">22705</span> more bytes<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中</p> <ul><li><code>coordinates</code>：每张图片对应的尺寸和位置</li> <li><code>properties</code>：生成的图片尺寸</li> <li><code>image</code>：文件的 Buffer，可用于生成图片</li></ul> <p>对于现有的常用的构建工具，已有现成的插件可直接使用：</p> <ul><li><p>webpack-spritesmith</p></li> <li><p>gulp.spritesmith</p></li> <li><p>grunt-spritesmith</p></li></ul> <h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h3> <ol><li>如果要适配高清屏，需要配置高清屏的图片，并且通过设置<code>background-size</code>属性来使得最终显示正常，可参考以上插件的<code>retina</code>相关配置参数；</li> <li>由于 HTTP/2 的支持多路复用特性，使得单个图片的请求的开销很小，不推荐使用雪碧图了，但为了兼容 HTTP1.1，现阶段多版本 HTTP 协议并存期间还是建议保留；</li> <li>雪碧图好用，可不要滥用。</li></ol> <h2 id="base64"><a href="#base64" class="header-anchor">#</a> Base64</h2> <p>Base64 是网络上最常见的用于传输 8Bit 字节码的编码方式之一，可将图片编码为特定的字符串，由 52 个大小字母和 10 个数字，以及 +、/、= 三个字符组成。</p> <p>使用 Base64 编码渲染图片有以下优点：</p> <ul><li>有效减少 HTTP 请求次数</li> <li>可对数据进行简单加密，无法肉眼获取信息</li> <li>没有跨域问题，无需考虑图片缓存</li></ul> <p>缺点：</p> <ul><li>编码后文件体积增大，仅适用于小体积图片编码</li> <li>增加了编码和解码的工作量</li> <li>不支持 IE8 以下版本</li></ul> <p>如需将图片转换为 Base64 编码，可以使用原生 APi <code>FileReader.readAsDataURL</code>。</p> <h1 id="图优化之体积优化"><a href="#图优化之体积优化" class="header-anchor">#</a> 图优化之体积优化</h1> <p>图片体积压缩就是在图片保持可接受的清晰度范围内同时减少文件大小，图片体积压缩可以借助工具实现。</p> <h2 id="在线工具"><a href="#在线工具" class="header-anchor">#</a> 在线工具</h2> <ul><li>TinyPNG：免费，TinyPng  使用智能有损压缩技术减小 PNG 文件的文件大小，原理是将图片中相似的颜色组合起来（量化），通过减少颜色的数量，可以将 24 位 PNG 文件转为更小的 8 位索引图片，同时所有不必要的元数据被剥离。</li> <li>PP鸭：￥69.9，很好用，根据图片的特点，选择比较兼顾大小和质量的压缩方案。</li> <li>智图：免费，可以选择压缩质量，生成 Webp。</li> <li>Iloveimg：免费，支持压缩 JPG，PNG， GIF， 能保持最佳文件质量和压缩程度, 并且 Iloveimg 不仅仅是一款图片压缩工具，还支持图片的裁剪、图片的格式转换以及大小调整等功能。</li></ul> <h2 id="客户端工具"><a href="#客户端工具" class="header-anchor">#</a> 客户端工具</h2> <ul><li>PhotoShop：只适用 JPG，导出时选择 JPG，选择压缩质量。</li> <li>Sketch：只适用 JPG，导出时选择 JPG，选择压缩质量。</li></ul> <h2 id="阿里云-oss"><a href="#阿里云-oss" class="header-anchor">#</a> 阿里云 OSS</h2> <p>阿里云 OSS 可以通过配置参数形式对图片进行处理，支持缩放、裁剪、旋转、效果、格式转换、水印等操作，详细信息点此<a href="https://help.aliyun.com/document_detail/44688.html" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>查看。</p> <p>示例：将图强制缩略成宽度为 100，高度为 100。</p> <div class="language- extra-class"><pre class="language-text"><code>http://image-demo.oss-cn-hangzhou.aliyuncs.com/example.jpg?x-oss-process=image/resize,m_fixed,h_100,w_100
</code></pre></div><h2 id="七牛云"><a href="#七牛云" class="header-anchor">#</a> 七牛云</h2> <p>七牛云的图片处理服务和阿里云 OSS 功能类似，也可以对图片进行缩放、裁剪、旋转、缩略等操作，详细<a href="https://developer.qiniu.com/dora/api/3683/img-directions-for-use" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>示例：将图强制缩略成宽度为 100，高度为 100。</p> <div class="language- extra-class"><pre class="language-text"><code>https://odum9helk.qnssl.com/resource/Ship.jpg?imageView2/2/w/100/h/100
</code></pre></div><h1 id="图优化之格式、尺寸优化"><a href="#图优化之格式、尺寸优化" class="header-anchor">#</a> 图优化之格式、尺寸优化</h1> <h2 id="图片格式"><a href="#图片格式" class="header-anchor">#</a> 图片格式</h2> <p>Web 开发中常见的图片包括 JPG、PNG、GIF、WebP，选择合适的格式以及压缩质量可以在保证视觉效果的情况下，加速网站的呈现。下面针对不同图片格式的特性来做一下对比：</p> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:left;">动画</th> <th style="text-align:left;">压缩类型</th> <th style="text-align:left;">浏览器支持</th> <th style="text-align:left;">透明度</th></tr></thead> <tbody><tr><td style="text-align:left;">GIF</td> <td style="text-align:left;">支持</td> <td style="text-align:left;">无损压缩</td> <td style="text-align:left;">所有</td> <td style="text-align:left;">支持</td></tr> <tr><td style="text-align:left;">PNG</td> <td style="text-align:left;">不支持</td> <td style="text-align:left;">无损压缩</td> <td style="text-align:left;">所有</td> <td style="text-align:left;">支持</td></tr> <tr><td style="text-align:left;">JPEG</td> <td style="text-align:left;">不支持</td> <td style="text-align:left;">有损压缩</td> <td style="text-align:left;">所有</td> <td style="text-align:left;">不支持</td></tr> <tr><td style="text-align:left;">webP</td> <td style="text-align:left;">不支持</td> <td style="text-align:left;">无损压缩或有损压缩</td> <td style="text-align:left;">Chrome、Opera、Firefox、Edge、Android</td> <td style="text-align:left;">支持</td></tr></tbody></table> <h2 id="多倍图"><a href="#多倍图" class="header-anchor">#</a> 多倍图</h2> <p>在 Retina 视网膜屏幕面试之前人们很少关注像素密度和设备像素比，随着 Retina 屏在移动设备中越来越广泛使用，为了保证图片在不同 DPR（设备像素比）的设备上显示足够清晰，开发者需要针对不同设备适配不同倍数的图片。</p> <h3 id="像素相关概念"><a href="#像素相关概念" class="header-anchor">#</a> 像素相关概念</h3> <ul><li><strong>DP</strong>：设备像素，又名物理像素，即设备屏幕上真实的物理像素，以矩阵的形式排列。</li> <li><strong>DIP</strong>：设备无关像素，是一种基于屏幕坐标的抽象像素，应用程序以抽象像素为单位，如 CSS 中的单位 px，实际渲染是通过底层程序转换为物理像素。</li> <li><strong>DPR</strong>：设备像素比，设备像素 / 设备无关像素，在 JS 中可以通过 <code>window.devicePixelRatio</code> 获取。</li></ul> <h3 id="多倍图概念"><a href="#多倍图概念" class="header-anchor">#</a> 多倍图概念</h3> <ul><li>在 DPR 为 1 的设备中，使用 1*1 个物理像素展示一个 CSS 像素</li> <li>在 DPR 为 2 的设备中，使用 2*2 个物理像素展示一个 CSS 像素</li> <li>在 DPR 为 3 的设备中，使用 3*3 个物理像素展示一个 CSS 像素</li></ul> <h3 id="自适应-dpr-加载图片"><a href="#自适应-dpr-加载图片" class="header-anchor">#</a> 自适应 DPR 加载图片</h3> <p>在高分辨率显示屏如 2x 上，在页面中使用二倍图可以保证清晰度，但是当此页面在低 DPR 设备打开时，我们只需要 50% 长宽的图片就能保证显示效果，而此时带宽开销却是一样的。所以为了节约传输流量，我们需要告诉浏览器，根于不同的 DPR 加载不同尺寸的图片，通常有以下三种方法：</p> <ol><li><p>使用 picture 标签，除了 IE，现有主浏览器均已支持该标签</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo@3x.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(min-width: 800px)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo@2x.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(min-width: 600px)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>使用 img srcset 属性，除了 IE，现有主浏览器均已支持该属性</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo@2x.png 2x, photo@3x.png 3x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>photo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>使用 CSS3 img-set 函数，兼容性相较于前两者较差</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">*</span> <span class="token punctuation">{</span>
	<span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">image-set</span><span class="token punctuation">(</span><span class="token string">&quot;photo.png&quot;</span> 1x<span class="token punctuation">,</span> <span class="token string">&quot;photo@2x.png&quot;</span> 2x<span class="token punctuation">,</span> <span class="token string">&quot;photo@3x.png&quot;</span>3x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h1 id="勿忘无障碍-关怀弱视力群体"><a href="#勿忘无障碍-关怀弱视力群体" class="header-anchor">#</a> 勿忘无障碍，关怀弱视力群体</h1> <p>根据世界健康组织的统计，全球约有 2.85 亿视力障碍人士，仅美国就有 810 万网民患视力障碍，而在中国，这个数字要被乘以 2。不同于我们浏览网页的方式是看，视力障碍人员浏览互联网信息主要是靠听 —— 靠屏幕阅读器读出网页的有效信息，通过听这些信息来获知内容。对于前端工程师而言，关注到一些细节的优化，能更好的服务于这些视力障碍人士。</p> <h2 id="设置-alt-属性"><a href="#设置-alt-属性" class="header-anchor">#</a> 设置 alt 属性</h2> <p>最基础的方式，是装饰性图片归类到背景图，通过 CSS 背景图进行设置；功能性图片放到 HTML 中，通过 <code>img</code> 标签引入，且要设置 <code>alt</code> 属性，以便被屏幕阅读器识别并阅读。图片 <code>alt</code> 信息应简短，介绍图片信息即可，避免内容冗余。图片的长信息介绍应被放到 <code>longdesc</code> 属性中：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片说明<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">longdesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>一段很长的文字一段很长的文字一段很长的文字一段很长的文字<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>宽或高不到 8px 或者没有 alt 的图片（特别是装饰性的图片）应该被移除，CSS 技术可以用来控制样式</li> <li>alt 是用来描述图片的，而非单纯的新闻标题或者名词</li> <li>alt 属性不应包含图片的文件名</li> <li>alt 值不应包含冗长的信息（如果很长可以使用）</li> <li>每个 img 标签要应该设置 alt 属性</li> <li>不能只依赖图片上的文字信息</li> <li>Banner、头图上的文字信息必须在代码中有所体现</li></ul> <h2 id="考虑-img-sprite"><a href="#考虑-img-sprite" class="header-anchor">#</a> 考虑 IMG Sprite</h2> <p>“高对比度模式” 是一种 Windows 系统的设置主题，其用意是为了保证视力受损的用户，在查看 Web 信息时提供方便。它通过使用对比鲜明的色彩和字号来提高文本的可读性，高对比度模式下网页的背景默认会变成全黑。</p> <p>CSS Image Sprites（CSS 雪碧图）是一项用来减少网页中图片 HTTP 请求数的技术，但其会导致在 Windows 高对比度模式下背景图片消失，其服务的 Web 应用性能的提升和对无障碍体验被破坏之间的矛盾，已经引起了 Web 开发者的关注。Sprite 技术的使用的确为更多网站的优化加载速度的体验贡献甚大，但我们要承认，这个过程中我们忽略并损害了使用高对比度模式用户的体验。由于 <code>&lt;img&gt;</code> 元素可以在高对比度模式下显示，故而在此场景下，使用基于  <code>&lt;img&gt;</code> 标签的 Sprite 技术，可以得到比基于 CSS 背景图的 Sprite 更多的收益。</p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">10/12/2020, 5:14:41 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.58d463af.js" defer></script><script src="/assets/js/3.5b6bd7ce.js" defer></script><script src="/assets/js/1.53e5735b.js" defer></script><script src="/assets/js/78.9dd75caf.js" defer></script>
  </body>
</html>
